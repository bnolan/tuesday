<script type="text/html" id="element-edit">
  <div class="toolbar">
    <a href="#">&lt; Back</a>
    <button class="bold" style="font-weight: bold">B</button>
    <button class="italic" style="font-style: italic">i</button>
    <button class="createlink" style="text-decoration: underline">&#8734;</button>
    <button class="float-right save">Save</button>
    <button class="float-right delete">Delete</button>
  </div>

  <div class="editing-field">
  </div>
</script>

<script type="text/html" id="page-edit">
  <div class="toolbar">
    <%= link_to "Rename", edit_site_page_path(@site, @page) %>
    <button class="addElement">Add...</button>
    <button class="float-right save">Save</button>
    <%= link_to "Delete", site_page_path(@site, @page), :class=>"float-right", :method => 'delete', :confirm => 'Are you sure you want to delete this page?' %>
  </div>

  <div class="subtoolbar toolbar" style="display: none">
    <button class="heading">Heading</button>
    <button class="paragraph">Paragraph</button>
  </div>

  <div class="page">
  </div>
</script>

<script type="text/html" id="page-list">
  <div class="toolbar">
    <button class="addPage">+ Add</button>
  </div>

  <div class="site-info">
    <h3 class="site-name"></h3>
    <address class="site-subdomain"></address>

    <p class="no-content">
      This is an empty site. Click the "+ Add" button to start adding pages to your site.
    </p>
  </div>

  <ul class="page-list">
  </ul>
</script>

<div class="two-column-layout">
  <div class="left-column">

    <h3>Site details</h3>

    <dl>
      <dt>Site name</dt>
      <dd><%= @site.name %></dd>
      <dt>Site domain</dt>
      <dd><%= @site.subdomain %>.tuesdayapp.com</dd>
      <dt>Theme</dt>
      <dd><%= @site.theme.name %></dd>
    </dl>

    <h3>
      Theme
    </h3>

    <p>
      &gt; <%= link_to "Edit theme", edit_theme_path(@site.theme.id) %><br />
      &gt; <%= link_to "View site", @site.full_url %><br />
      &gt; <%= link_to "Rename site", edit_site_path(@site) %><br />
      &gt; <%= link_to "New Page", new_site_page_path(@site) %>
    </p>

    <h3>Pages</h3>

    <ul>
      <% @site.pages.each do |page| %>
        <li><%= link_to page.name, [@site, page] %></li>
      <% end %>
    </ul>
  </div>

  <div class="right-column">
    <div class="edit-container">
    </div>
  </div>

  <br style="clear: both" />
</div>

<script>
  $(function(){
    var page = new Page(<%= @page.to_json.html_safe %>);
    window.router = new Router(<%= @site.to_json.html_safe %>, page)
    Backbone.history.start()
  });
</script>
